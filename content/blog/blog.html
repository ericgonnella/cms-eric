<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <header>
    <h1>Blog Posts</h1>
    <nav>
      <a href="/">Home</a>
    </nav>
  </header>
  <main id="all-blogs">
    <!-- Blog list will be dynamically inserted here -->
  </main>
  <script>
async function loadAllBlogs() {
  try {
    const response = await fetch('/content/blog/index.json');
    const files = await response.json();

    const blogContainer = document.getElementById('all-blogs');
    blogContainer.innerHTML = '';

    for (const file of files) {
      const postResponse = await fetch(`/content/blog/${file}`);
      const post = await postResponse.json();

      const article = document.createElement('article');
      article.innerHTML = `
        <h2>${post.title}</h2>
        <p>${post.body.substring(0, 200)}...</p>
        <a href="/blog/${file.replace('.json', '.html')}" class="btn">Read More</a>
      `;
      blogContainer.appendChild(article);
    }
  } catch (error) {
    console.error('Error loading blog posts:', error);
    document.getElementById('all-blogs').innerHTML = '<p>Could not load blog posts. Please try again later.</p>';
  }
}

loadAllBlogs();

  </script>
</body>
</html>
